{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","PiedDePage.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","Accueil.jsx","Apropos.jsx","Contact.jsx","Page.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","props","etatPanier","panier","infoPanier","pan","info","articles","Object","values","nbArticles","lenght","qteArticles","reduce","valInit","valCourante","qte","sousTotal","accumulateur","articleCourant","prix","st","toFixed","tps","tvq","total","retournerInfoPanier","className","cacher","Entete","useState","cacheSommaire","setCacheSommaire","to","Badge","anchorOrigin","vertical","horizontal","onClick","badgeContent","eltCourant","color","PiedDePage","annee","Date","getFullYear","BtnAjoutPanier","couleur","texte","Produit","setPanier","btnTexte","btnQte","btnCouleurCls","id","src","alt","nom","JSON","parse","stringify","ListeProduits","tabProduits","map","prd","Accueil","Apropos","Contact","Page","valeurInitiale","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","exact","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.67386b26.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\nimport { objectOf } from 'prop-types';\r\n\r\nexport default function SommairePanier(props){\r\n    // Tableau \r\n    const [panier, setPanier] = props.etatPanier;\r\n    const infoPanier = retournerInfoPanier(panier);\r\n    return(\r\n        <div className={'SommairePanier' + (props.cacher?' cacher':'')}>\r\n            <span className=\"nbArticles\">Articles différents : {infoPanier.nbArticles}</span>\r\n            <span className=\"qteArticles\">Articles total : {infoPanier.qteArticles}</span>\r\n            <span className=\"sousTotal\">Sous-total : {infoPanier.st}</span>\r\n            <span className=\"tps\">TPS : {infoPanier.tps}</span>\r\n            <span className=\"tvq\">TVQ : {infoPanier.tvq}</span>\r\n            <span className=\"total\">Total : {infoPanier.total}</span>\r\n        </div> \r\n    );\r\n}\r\n\r\n/**\r\n * Calculer les informations du panier d'achat\r\n * @param {*} pan un panier d'achat\r\n */\r\nfunction retournerInfoPanier(pan){\r\n    let info = {}; // {nbArticles: 2, qteArticles: 18, sousTotal: 1200.89, etc}\r\n\r\n    // Sortir les articles et les mettre dans un tableau\r\n    let articles = Object.values(pan);\r\n\r\n    // Nombre d'articles differents\r\n    info.nbArticles = articles.lenght;\r\n\r\n    // Quantite d'articles totale: premiere facon\r\n    // let qteTotale = 0;\r\n    // for(let i = 0; i<articles.lenght; i++){\r\n    //     qteTotale += articles[i].qte;\r\n    // }\r\n    // info.qteArticles = qteTotale;\r\n\r\n    // Quantite d'articles totale: meilleure facon\r\n    info.qteArticles = articles.reduce(function(valInit, valCourante){\r\n        return valCourante.qte + valInit;\r\n    }, 0);\r\n\r\n    // Sous-total: Fonction fleche\r\n    let sousTotal = articles.reduce((accumulateur, articleCourant) => articleCourant.prix*articleCourant.qte + accumulateur, 0);\r\n    info.st = sousTotal.toFixed(2);\r\n\r\n    // TPS\r\n    let tps = sousTotal * 0.05;\r\n    info.tps = tps.toFixed(2);\r\n\r\n    // TVQ\r\n    let tvq = sousTotal * 0.99755;\r\n    info.tvq = tvq.toFixed(2);\r\n\r\n    // Total\r\n    info.total = (sousTotal  + tps + tvq).toFixed(2);\r\n\r\n    return info;\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SommairePanier from './SommairePanier';\r\nimport { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Entete(props) {\r\n\t\t// Avec la decomposition de tableau, c'est plus facile (tableau): \r\n  const [cacheSommaire, setCacheSommaire] = useState(true);\r\n\t\r\n\t// Fonction fleche\r\n  const basculerSommairePanier =  () => setCacheSommaire(!cacheSommaire);\r\n\t\r\n\t// Accéder à l'état du panier qui est recu dans les props (tableau)\r\n\t// Décomposition de tableau (et d'objet) = array destructuring\r\n  const [panier] = props.etatPanier;\r\n  return (\r\n    <header className=\"Entete\"> \r\n      <div className=\"logo\"><Link to=\"/\">Logo</Link></div>\r\n      <ul className=\"navPrincipale\">\r\n        <li><Link to=\"/nos-produits\">Produits</Link></li>\r\n        <li><Link to=\"/a-propos-de-magasin\">A propos de nous</Link></li>\r\n        <li><Link to=\"/contact\">Contactez-nous</Link></li>\r\n      </ul>\r\n      <ul className=\"navUtil\">\r\n        <li>\r\n          <Badge anchorOrigin={{vertical: 'bottom', horizontal: 'right',}} onClick={basculerSommairePanier} badgeContent={Object.values(panier).reduce( (accumulateur, eltCourant)  => accumulateur + eltCourant.qte, 0)} color=\"secondary\">\r\n            <ShoppingCartIcon />\r\n          </Badge>\r\n          <SommairePanier cacher={cacheSommaire} etatPanier={props.etatPanier} />\r\n        </li>\r\n        <li>Mon compte</li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}","import './PiedDePage.scss';\r\n\r\nexport default function PiedDePage(props){\r\n    // Obtenir l'année courante\r\n    const annee = (new Date()).getFullYear();\r\n    \r\n    return(\r\n        <footer className=\"PiedDePage\">\r\n            &copy; {annee} - TIM\r\n        </footer>\r\n    );\r\n}","import './BtnAjoutPanier.scss';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { useState } from 'react';\r\n\r\nexport default function BtnAjoutPanier(props){\r\n    return(\r\n        <Badge badgeContent={props.qte} color=\"secondary\">\r\n            <button \r\n                onClick={props.onClick}\r\n                className={`BtnAjoutPanier ${props.couleur}`}\r\n            >\r\n                {props.texte}\r\n            </button>\r\n        </Badge>\r\n    );\r\n}    ","import './Produit.scss';\r\nimport BtnAjoutPanier from './BtnAjoutPanier';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\n\r\nexport default function Produit(props){\r\n    const [panier, setPanier] = props.etatPanier;\r\n    /**\r\n     * Augmente la quantité d'un article existant \r\n     * ou \r\n     * Ajoute l'article au panier\r\n     * Utilisation d'un tableau\r\n     */\r\n    function ajouterArticle() {\r\n        if(panier[props.id]){\r\n            // setPanier();\r\n            panier[props.id].qte++;\r\n        }\r\n        else{\r\n            // setPanier();\r\n            panier[props.id] = {prix: props.prix, qte: 1}\r\n        }\r\n        // Maintenant il faut changer l'état du panier avec SetPanier\r\n        // Il faut passer à setPanier un nouvel object (obtenu par clonage)\r\n        setPanier(JSON.parse(JSON.stringify(panier)));\r\n        // const nouveauPanier = (Object.assign({}, panier));\r\n        // setPanier(nouveauPanier);\r\n    }\r\n\r\n    // Etat du bouton\r\n    let btnTexte = \"Ajouter au panier\";\r\n    let btnQte = 0;\r\n    let btnCouleurCls = \"\";\r\n    if(panier[props.id]){\r\n        btnTexte = <AddCircleOutlineIcon/>; // JSX ; Javascript Syntax eXtension\r\n        btnQte = panier[props.id].qte;\r\n        btnCouleurCls = \"rouge\";\r\n    }\r\n\r\n    return(\r\n        <li className=\"Produit\">\r\n            <div className=\"image\">\r\n                <img src={'images-produits/' + props.id + '.webp'} alt={props.nom}/>\r\n            </div>\r\n\r\n            <div className=\"info\">\r\n                <h3>{props.nom}</h3>\r\n                <p className=\"prix\">{props.prix} $CA</p>\r\n                <BtnAjoutPanier \r\n                    onClick={ajouterArticle} \r\n                    texte={btnTexte} \r\n                    qte={btnQte} \r\n                    couleur={btnCouleurCls} \r\n                />\r\n            </div>\r\n        </li>\r\n    );\r\n}","import './ListeProduits.scss';\r\nimport Produit from './Produit';\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props){\r\n  return(\r\n    <div className=\"ListeProduits\">\r\n      <h2>Produits disponibles</h2>\r\n      <ul>\r\n      {\r\n        tabProduits.map((prd) => \r\n            <Produit key={prd.id} etatPanier={props.etatPanier} id={prd.id} nom={prd.nom} prix={prd.prix} />\r\n        )\r\n      }\r\n      </ul>\r\n    </div>\r\n  );\r\n}","export default function Accueil() {\r\n  return (\r\n    <div className=\"Accueil\">\r\n      <h2>Magasin</h2>\r\n      <p>Page d'accueil en construction</p>\r\n    </div>\r\n  );\r\n}","export default function Apropos() {\r\n  return (\r\n    <div className=\"Apropos\">\r\n      <h2>À propos de nous</h2>\r\n      <p>Bla bla bla...</p>\r\n    </div>\r\n  );\r\n}","export default function Contact() {\r\n  return (\r\n    <div className=\"Contact\">\r\n      <h2>Contactez-nous</h2>\r\n      <p>Formulaire de contact à venir ...</p>\r\n    </div>\r\n  );\r\n}","import './Page.scss';\nimport Entete from './Entete';\nimport Pied2Page from './PiedDePage';\nimport ListeProduits from './ListeProduits';\nimport useLocalStorageState from './hooks/useLocalStorageState';\nimport { Switch, Route } from 'react-router-dom';\nimport Accueil from './Accueil';\nimport Apropos from './Apropos';\nimport Contact from './Contact';\n\nexport default function Page(props) {\n  // On utilise notre hook personnalisé pour créer un état qui sera sauvegardé dans localStorage\n  // Cet état aura comme valeur initiale : {} et l'étidquette localStorage sera : \"panier-pvt-gr1\"\n  const etatPanier = useLocalStorageState({}, \"panier\");\n\n  // Autre exemples d'utilisation : \n  // const etatConnexion = useLocalStorageState(false, \"utilisateur-connexion\");\n  // const choixLangue = useLocalStorageState(\"fr\", \"choix-langue\");\n\n  // // Remarquez l'initialisation \"paresseuse\" (lazy initialization) de l'état \n  // const etatPanier = useState(() => {\n  //   const panierLS = window.localStorage.getItem('panier-pvt-gr1'); // NOOB!\n  //   return (panierLS !== null) ? JSON.parse(panierLS) : {};\n  // }); \n  // const [panier, setPanier] = etatPanier;\n\n  // // Sauvegarder le panier dans localStorage \n  // // Comme ce code est un effet secondaire de votre composant \n  // // (qui doit être exécuté à chaque mutation du panier) la bonne façon de \n  // // le coder en respectant la manière React est d'utiliser un hook spécialisé \"useEffect\"\n  // useEffect(() => {\n  //   window.localStorage.setItem('panier-pvt-gr1', JSON.stringify(panier))\n  // }, [panier]); // tableau des deps (dépendances)\n\n  return (\n    <div className=\"Page\">\n      <Entete etatPanier={etatPanier} />\n      <section className=\"contenuPrincipal\">\n        {/* Switch permet d'inclure les composants requis selon l'URL dans le lien */}\n        <Switch>\n          {/* Route match (apparie) chaque URL avec un lien et inclut le composant corerspondant */}\n          <Route path=\"/\" component={Accueil} exact />\n          <Route path=\"/nos-produits\" exact>\n            <ListeProduits etatPanier={etatPanier} />\n          </Route>\n          <Route path=\"/a-propos-de-magasin\" exact>\n            <Apropos />\n          </Route>\n          <Route path=\"/contact\" exact>\n            <Contact />\n          </Route>\n        </Switch>\n\n      </section>\n      <Pied2Page />\n    </div>\n  );\n}","import {useEffect, useState} from 'react';\r\n\r\n/**\r\n * Obtient un état React qui sera sauvegardé dans localStorage\r\n * \r\n * @param {*} valeurInitiale valeur quelconque avec laquelle on veut initialiser l'état\r\n * @param {string} etiquetteLS chaîne de caractère pour l'étiquette localStorage\r\n * \r\n * @returns {array} tableau retourné par useState\r\n */\r\nexport default function useLocalStorageState(valeurInitiale, etiquetteLS) {\r\n  const [etat, setEtat] = useState(\r\n    () => JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurInitiale\r\n  );\r\n\r\n  useEffect(\r\n    () => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)),\r\n    [etat, etiquetteLS]\r\n  );\r\n\r\n  // Retourner l'état\r\n  return [etat, setEtat];\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.scss';\nimport Page from './Page';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/panier-achats\">\n      <Page />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('racine')\n);\n"],"sourceRoot":""}